{% extends "base.html" %}

{% block title %}ODH Developers Login{% endblock %}

{% block content %}

<div class="breadcumb-wrapper" data-bg-src="{{ url_for('static', path='assets/img/bg/breadcrumb-bg.jpg') }}">
  <div class="container">
    <div class="breadcumb-content">
      <h1 class="breadcumb-title">Login</h1>
      <ul class="breadcumb-menu">
        <li><a href="/">Home</a></li>
        <li>Login</li>
      </ul>
    </div>
  </div>
</div>

<div class="contact-form-area my-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8">
        <div class="shadow-lg rounded-4 p-4 p-md-5 bg-white">

          <h3 class="text-center text-success mb-4">
           Welcome Back
          </h3>
          <p class="text-center text-muted mb-5">Sign in to continue to ODH Developers</p>

          <form action="/login" method="POST" novalidate id="loginForm" class="needs-validation">

            <!-- Email -->
            <div class="form-floating mb-4">
              <input type="email" name="email" id="email" class="form-control form-control-lg" placeholder="Email Address" required>
              <label for="email"><i class="fas fa-envelope me-2 text-muted"></i>Email Address</label>
              <div class="invalid-feedback">Please enter a valid email.</div>
            </div>

            <!-- Password -->
            <div class="form-floating mb-4 position-relative">
              <input type="password" name="password" id="password" class="form-control form-control-lg" placeholder="Password" required>
              <label for="password"><i class="fas fa-lock me-2 text-muted"></i>Password</label>
              <button type="button" id="togglePassword" class="btn btn-sm btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-3">
                <i class="fas fa-eye"></i>
              </button>
              <div class="invalid-feedback">Password is required.</div>
            </div>

            <!-- Remember + Forgot -->
            <div class="d-flex justify-content-between align-items-center mb-4">
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="rememberMe">
                <label for="rememberMe" class="form-check-label">Remember Me</label>
              </div>
              <a href="/forgot-password" class="text-decoration-none text-primary fw-semibold">Forgot Password?</a>
            </div>

            <!-- Login Button -->
            <button type="submit" class="btn btn-success btn-lg w-100">
              <i class="fas fa-sign-in-alt me-2"></i>Login
            </button>
          </form>

          <div class="text-center mt-4">
            <p class="mb-0">Donâ€™t have an account? 
              <a href="/register" class="text-primary fw-semibold">Register Now</a>
            </p>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<style>
  #togglePassword {
    border-radius: 50%;
    padding: 6px 10px;
  }
  .form-floating label i {
    margin-right: 6px;
  }
  .was-validated .form-control:invalid {
    border-color: #dc3545;
  }
  .was-validated .form-control:valid {
    border-color: #198754;
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  // Form validation
  const form = document.getElementById('loginForm');
  form.addEventListener('submit', function (event) {
    if (!form.checkValidity()) {
      event.preventDefault();
      event.stopPropagation();
    }
    form.classList.add('was-validated');
  });

  // Toggle password visibility
  const togglePassword = document.getElementById("togglePassword");
  const passwordInput = document.getElementById("password");

  togglePassword.addEventListener("click", function () {
    const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
    passwordInput.setAttribute("type", type);
    this.innerHTML = type === "password" 
      ? '<i class="fas fa-eye"></i>' 
      : '<i class="fas fa-eye-slash"></i>';
  });
});
</script>

{% endblock %}
